<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MMD Shot 💫</title>

    <!-- スタイルシート -->
    <script type="module">
      import "./src/styles.css";
    </script>

    <!-- Babylon.js (ローカルファイル) -->
    <script src="libs/dat-gui/dat.gui.min.js"></script>
    <script src="libs/babylon/Assets.js"></script>
    <script src="libs/babylon/recast.js"></script>
    <script src="libs/babylon/ammo.js"></script>
    <script src="libs/babylon/HavokPhysics_umd.js"></script>
    <script src="libs/babylon/cannon.js"></script>
    <script src="libs/babylon/Oimo.js"></script>
    <script src="libs/babylon/earcut.min.js"></script>
    <script src="libs/babylon/babylon.js"></script>
    <script src="libs/babylon/babylonjs.materials.min.js"></script>
    <script src="libs/babylon/babylonjs.proceduralTextures.min.js"></script>
    <script src="libs/babylon/babylonjs.postProcess.min.js"></script>
    <script src="libs/babylon/babylonjs.loaders.js"></script>
    <script src="libs/babylon/babylonjs.serializers.min.js"></script>
    <script src="libs/babylon/babylon.gui.min.js"></script>
    <script src="libs/babylon/babylon.inspector.bundle.js"></script>

    <!-- アプリケーションスクリプト -->
    <script type="module">
      import "./src/renderer.js";
      import "./src/capture.js";
      import "./src/app.js";
    </script>
  </head>
  <body>
    <!-- カスタムローディング画面 -->
    <div id="custom-loading-screen">
      <div class="loading-container">
        <div class="loading-logo">MMD Shot 💫</div>
        <div class="loading-bar-container">
          <div class="loading-bar"></div>
        </div>
        <div class="loading-text">初期化中...</div>
      </div>
    </div>

    <div id="app-container">
      <!-- MMDレンダリングキャンバス -->
      <canvas id="renderCanvas"></canvas>

      <!-- シャッターエフェクト要素 -->
      <div id="shutter-effect" class="shutter-effect"></div>

      <!-- 通知表示エリア -->
      <div id="notification" class="notification">
        <div id="notification-message" class="notification-message"></div>
      </div>

      <!-- カメラUIコントロール -->
      <div class="camera-controls">
        <div id="camera-mode-indicator" class="camera-mode-indicator">顔追従モード</div>
        <div id="camera-mode-button" class="camera-mode-button"></div>
        <div id="capture-button" class="capture-button"></div>
      </div>

      <!-- キャプチャ画像表示エリア -->
      <div id="capture-view" class="capture-view">
        <img id="capture-image" class="capture-image" alt="キャプチャ画像" />
        <div class="capture-controls">
          <button id="close-button" class="capture-control-button">キャンセル</button>
          <button id="save-button" class="capture-control-button done">保存</button>
        </div>
      </div>
    </div>

    <!-- メインスクリプトはsrc/app.jsに移動しました -->
  </body>
</html>
